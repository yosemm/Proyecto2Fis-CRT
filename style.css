:root {
    --bg: #000;
    --fg: #cfcfcf;
    --accent: #33FF33;
    --light: var(--accent);
    --light-weak: rgba(204, 255, 204, 0.08);
    --btn-bg: #071007;
    --btn-active: var(--light);
}

html, body {
    margin: 0;
    background: var(--bg);
    color: var(--fg);
    font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial;
    height: 100%;
    min-height: 100vh;
}

h1 {
    font-size: 24px;
    text-align: center;
    color: var(--accent);
    font-weight: lighter;
}

#vistas {
    position: absolute;
    left: 5%;
    top: 20px;
    max-width: calc(100% - 40px);
    width: min(1450px, calc(100% - 40px));
    height: auto;
    object-fit: contain;
    display: block;
    pointer-events: none;
    z-index: 1;
    background: transparent;
}

#crt-wrap {
    position: absolute;
    right: 15%;
    top: clamp(20px, 8vh, 100px);
    width: clamp(300px, 30vw, 600px);
    height: clamp(300px, 30vw, 600px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
    pointer-events: auto;
    box-sizing: border-box;
}

canvas {
    width: 100%;
    height: 100%;
    background: #000;
    border: 1px solid var(--accent);
    border-radius: 20px;
    display: block;
    box-sizing: content-box;
}

.controls-box {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    bottom: 10%;
    width: min(900px, calc(100% - 48px));
    max-width: 900px;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 12px;
    background: rgba(6, 10, 6, 0.75);
    border: 1px solid var(--light-weak);
    border-radius: 10px;
    padding: 12px;
    box-sizing: border-box;
    align-items: start;
    z-index: 3;
    backdrop-filter: blur(4px);
    height: auto;
}

.control-group {
    display: flex;
    flex-direction: column;
    min-width: 120px;
    max-width: 280px;
    box-sizing: border-box;
}

label {
    font-size: 12px;
    margin-bottom: 6px;
    color: var(--fg);
}

input[type=range] {
    width: 100%;
    box-sizing: border-box;
    max-width: 260px;
    accent-color: var(--accent);
}

select {
    padding: 6px;
    background: rgba(10, 16, 10, 0.7);
    color: var(--fg);
    border-radius: 6px;
    border: 1px solid var(--light-weak);
}

.presets {
    display: flex;
    gap: 6px;
    flex-wrap: wrap;
}

.small {
    font-size: 11px;
    color: #aaa;
}

.preset-btn {
    background: var(--btn-bg);
    color: var(--fg);
    border-radius: 6px;
    padding: 6px 8px;
    border: 1px solid var(--light-weak);
    cursor: pointer;
    font-size: 12px;
}

.preset-btn.active {
    background: var(--btn-active);
    color: #001;
    border-color: rgba(0, 0, 0, 0.08);
}

@media (max-width: 720px) {
    .controls-box {
        width: calc(100% - 24px);
        bottom: 6%;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    }

    #vistas {
        left: 2%;
        top: 12px;
        width: calc(100% - 24px);
    }
}

@media (max-width: 1919px), (max-height: 1079px) {
    h1 {
        font-size: 20px;
    }

    #vistas {
        left: 4%;
        top: 12px;
        max-width: calc(100% - 32px);
        width: min(1100px, calc(100% - 32px));
    }

    #crt-wrap {
        right: 12%;
        top: clamp(12px, 6vh, 80px);
        width: clamp(220px, 26vw, 520px);
        height: clamp(220px, 26vw, 520px);
    }

    canvas {
        border-radius: 14px;
    }

    .controls-box {
        bottom: 8%;
        width: min(760px, calc(100% - 32px));
        padding: 10px;
        gap: 8px;
        grid-template-columns: repeat(auto-fit, minmax(110px, 1fr));
    }

    .control-group {
        min-width: 100px;
        max-width: 220px;
    }

    label { font-size: 11px; }
    input[type=range] { max-width: 220px; }
    select { padding: 5px; }
    .preset-btn { padding: 5px 6px; font-size: 11px; }
    .small { font-size: 10px; }
}

@media (max-width: 1366px), (max-height: 768px) {
    #crt-wrap {
        width: clamp(180px, 28vw, 420px);
        height: clamp(180px, 28vw, 420px);
        right: 8%;
    }

    .controls-box {
        bottom: 6%;
        width: calc(100% - 24px);
        padding: 8px;
        gap: 6px;
        grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
    }

    h1 { font-size: 18px; }
}

#vistas-overlay {
    position: absolute;
    pointer-events: none;
    background: transparent;
    z-index: 2;
}

#crt-wrap {
    z-index: 3;
}

.controls-box {
    z-index: 4;
}